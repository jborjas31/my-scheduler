<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>My Daily Scheduler</title>
    
    <!-- PWA Configuration -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#007bff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Scheduler">
    
    <!-- Favicon and icons -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNCIgZmlsbD0iIzAwN2JmZiIvPgo8cGF0aCBkPSJNOCAxMkgyNFYxNEg4VjEyWk04IDhIMjRWMTBIOFY4Wk04IDE2SDI0VjE4SDhWMTZaTTYgOFYxMEg3VjhINlpNNiAxMlYxNEg3VjEySDZaTTYgMTZWMThIN1YxNkg2WiIgZmlsbD0iI2ZmZmZmZiIvPgo8L3N2Zz4K">
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Meta tags for SEO and sharing -->
    <meta name="description" content="A daily task scheduling app to help with time management and productivity">
    <meta name="keywords" content="scheduler, tasks, productivity, time management, daily planner">
</head>
<body>
    <h1>My Daily Scheduler</h1>
    
    <div class="schedule-container">
        <!-- Date Navigation -->
        <div class="date-navigation">
            <button id="prev-day-btn" class="nav-btn" aria-label="Go to previous day">‚Üê Previous Day</button>
            <div class="date-display">
                <h2 id="current-date-display">Loading...</h2>
                <input type="date" id="date-picker" aria-label="Select date">
                <button id="today-btn" class="today-btn">Today</button>
            </div>
            <button id="next-day-btn" class="nav-btn" aria-label="Go to next day">Next Day ‚Üí</button>
        </div>
        
        <!-- Current Time Display -->
        <div class="current-time">
            <strong>Current Time: <span id="current-time-display">Loading...</span></strong>
        </div>
        
        <!-- Task Input Section -->
        <div class="task-input-section">
            <h3>Add New Task</h3>
            <form id="task-form" novalidate>
                <div class="form-row">
                    <label for="task-name">Task Name:</label>
                    <input type="text" id="task-name" placeholder="Enter task name" required maxlength="100" autocomplete="off">
                </div>
                
                <div class="form-row">
                    <label for="task-start-time">Start Time:</label>
                    <div class="time-input-group">
                        <select id="task-start-time" aria-label="Select start time">
                            <!-- Options will be generated by JavaScript -->
                        </select>
                        <span>or</span>
                        <input type="time" id="task-start-manual" placeholder="e.g. 15:43" aria-label="Enter custom start time">
                    </div>
                </div>
                
                <div class="form-row">
                    <label for="task-end-time">End Time:</label>
                    <div class="time-input-group">
                        <select id="task-end-time" aria-label="Select end time">
                            <!-- Options will be generated by JavaScript -->
                        </select>
                        <span>or</span>
                        <input type="time" id="task-end-manual" placeholder="e.g. 16:27" aria-label="Enter custom end time">
                    </div>
                </div>
                
                <div class="form-row">
                    <label for="task-priority">Priority:</label>
                    <select id="task-priority" required>
                        <option value="">Select priority...</option>
                        <option value="fixed">üîí Cannot Skip (Fixed)</option>
                        <option value="flexible">‚è∞ Can Skip (Flexible)</option>
                    </select>
                </div>
                
                <button type="submit">Add Task</button>
            </form>
        </div>
        
        <!-- Schedule Grid -->
        <div class="schedule-grid" role="main" aria-label="Daily schedule">
            <!-- Time slots will be generated by JavaScript -->
        </div>
        
        <!-- Loading indicator -->
        <div id="loading-indicator" style="display: none; text-align: center; padding: 20px;">
            <p>Loading your schedule...</p>
        </div>
    </div>

    <!-- Error messages -->
    <div id="error-message" style="display: none; background-color: #f8d7da; color: #721c24; padding: 12px; margin: 10px 0; border-radius: 4px; border: 1px solid #f5c6cb;">
        <strong>Error:</strong> <span id="error-text"></span>
    </div>

    <!-- Firebase scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    
    <!-- Main application script -->
    <script src="script.js"></script>
    
    <!-- PWA installation prompt (optional) -->
    <script>
        // Simple PWA install prompt
        let deferredPrompt;
        
        window.addEventListener('beforeinstallprompt', (e) => {
            deferredPrompt = e;
            // Could show a custom install button here
        });
        
        // Register service worker if available
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then((registration) => {
                        console.log('SW registered: ', registration);
                    })
                    .catch((registrationError) => {
                        console.log('SW registration failed: ', registrationError);
                    });
            });
        }
    </script>
</body>
</html>